{"version":3,"sources":["webpack:///./src/views/ModsPage.vue?65f4","webpack:///./src/components/Mods.vue?bf24","webpack:///./src/api/mods/axios-mods.js","webpack:///src/components/Mods.vue","webpack:///./src/components/Mods.vue?7237","webpack:///./src/components/Mods.vue","webpack:///src/views/ModsPage.vue","webpack:///./src/views/ModsPage.vue?cef7","webpack:///./src/views/ModsPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","_l","mod","key","id","_s","name","getAPI","axios","create","baseURL","APIUrl","interceptors","response","use","undefined","err","config","status","store","dispatch","then","access","request","method","headers","Authorization","url","mods","state","APIData","data","catch","Promise","reject","computed","methods","created","component","components","Mods"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,SAAS,IACxIG,EAAkB,GCDlB,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,6BAA6BJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,yBAAyBR,EAAIS,GAAIT,EAAW,SAAE,SAASU,GAAK,OAAON,EAAG,KAAK,CAACO,IAAID,EAAIE,IAAI,CAACZ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAII,aAAY,MAClV,EAAkB,G,yJCIhBC,EAASC,IAAMC,OAAO,CAC1BC,QAASC,SAEXJ,EAAOK,aAAaC,SAASC,SAAIC,GAAW,SAASC,GAE/CA,EAAIC,QAAUD,EAAIH,UAAoC,MAAxBG,EAAIH,SAASK,QAC7CC,OACGC,SAAS,gBACTC,MAAK,SAAAC,GAEJd,IACGe,QAAQ,CACPb,QAASC,OACTa,OAAQ,MACRC,QAAS,CAAEC,cAAe,UAAF,OAAYJ,IACpCK,IAAK,kBAENN,MAAK,SAAAR,GAKJe,OAAKC,MAAMC,QAAUjB,EAASkB,QAE/BC,OAAM,SAAAhB,GAIL,OAAOiB,QAAQC,OAAOlB,SAG3BgB,OAAM,SAAAhB,GACL,OAAOiB,QAAQC,OAAOlB,S,4lBCvB9B,OACEV,KAAM,OAIN6B,SAAU,EAAZ,GACA,oCAEEC,QAAS,EAAX,GACA,+CAEEC,QAXF,WAWA,WACI9B,EACJ,qBACM,QAAN,CAAQ,cAAR,mDAGA,kBAGM,EAAN,8BAEA,yBCpCyY,I,YCOrY+B,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCTf,GACEhC,KAAM,WACNiC,WAAY,CAEVC,KAAJ,ICb6Y,ICOzY,EAAY,eACd,EACAjD,EACAQ,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-2d0ceb9e.805d7b1b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('Mods')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"downloads\"},[_c('div',{staticClass:\"bod\"},[_c('h1',[_vm._v(\"Welcome to Download Hub\")]),_c('h2',[_vm._v(\"Versions available:\")]),_vm._l((_vm.APIData),function(mod){return _c('h2',{key:mod.id},[_vm._v(_vm._s(mod.name))])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\nimport store from \"../../store\";\nimport { APIUrl } from \"../axios-base\";\nimport mods from \"../../store/modules/mods/mods\";\n\nconst getAPI = axios.create({\n  baseURL: APIUrl\n});\ngetAPI.interceptors.response.use(undefined, function(err) {\n  // if error response status is 401, it means the request was invalid due to expired access token\n  if (err.config && err.response && err.response.status === 401) {\n    store\n      .dispatch(\"refreshToken\") // attempt to obtain new access token by running 'refreshToken' action\n      .then(access => {\n        // if successful re-send the request to get the data from server\n        axios\n          .request({\n            baseURL: APIUrl,\n            method: \"get\",\n            headers: { Authorization: `Bearer ${access}` }, // the new access token is attached to the authorization header\n            url: \"/api/v1/mods/\"\n          })\n          .then(response => {\n            // if successfully received the data store it in store.state.APIData so that 'Downloads' component can grab the\n            // data from it and display to the client.\n            // console.log(\"Success getting the Mods\");\n            // console.log(response);\n            mods.state.APIData = response.data;\n          })\n          .catch(err => {\n            // console.log(\n            //   \"Got the new access token but error while trying to fetch data from the API using it\"\n            // );\n            return Promise.reject(err);\n          });\n      })\n      .catch(err => {\n        return Promise.reject(err);\n      });\n  }\n  // if (err.config && err.response && err.response.status === 403) {\n  //   console.log(err.response.status);\n  //   console.log(\"нет прав!\");\n  // }\n});\n\nexport { getAPI };\n","<template>\n  <div class=\"downloads\">\n    <div class=\"bod\">\n      <h1>Welcome to Download Hub</h1>\n      <h2>Versions available:</h2>\n      <h2 v-for=\"mod in APIData\" :key=\"mod.id\">{{ mod.name }}</h2>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getAPI } from \"../api/mods/axios-mods\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"Mods\",\n  // data: () => ({\n  //   modsCred: false\n  // }),\n  computed: {\n    ...mapState(\"mods\", [\"APIData\"]) // get APIData from store.state.\n  },\n  methods: {\n    ...mapMutations(\"mods\", [\"SET_UPDATE_APIData\"])\n  },\n  created() {\n    getAPI\n      .get(\"/api/v1/mods/\", {\n        headers: { Authorization: `Bearer ${this.$store.state.accessToken}` }\n      }) // proof that your access token is still valid; if not the\n      // axios getAPI response interceptor will attempt to get a new  access token from the server. check out ../api/axios-base.js getAPI instance response interceptor\n      .then(response => {\n        // console.log(\"GetAPI successfully got the mods\");\n        // console.log(response);\n        this.SET_UPDATE_APIData(response.data); // store the response data in store\n      })\n      .catch(err => {\n        // refresh token expired or some other error status\n        // eslint-disable-next-line no-unused-vars\n        const er = err;\n        // console.log(err);\n        // console.log(\"Не получилось\");\n      });\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mods.vue?vue&type=template&id=e18f6320&scoped=true&\"\nimport script from \"./Mods.vue?vue&type=script&lang=js&\"\nexport * from \"./Mods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e18f6320\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"about\">\n    <Mods></Mods>\n  </div>\n</template>\n\n<script>\nimport Mods from \"../components/Mods\";\n\nexport default {\n  name: \"ModsPage\",\n  components: {\n    // HelloWorld\n    Mods\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModsPage.vue?vue&type=template&id=3e8d40d8&\"\nimport script from \"./ModsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ModsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
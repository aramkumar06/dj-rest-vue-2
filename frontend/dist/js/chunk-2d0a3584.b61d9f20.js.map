{"version":3,"sources":["webpack:///./src/views/CarsPage.vue?d7a9","webpack:///./src/components/Cars.vue?c019","webpack:///./src/api/cars/axios-cars.js","webpack:///src/components/Cars.vue","webpack:///./src/components/Cars.vue?508f","webpack:///./src/components/Cars.vue","webpack:///src/views/CarsPage.vue","webpack:///./src/views/CarsPage.vue?1dc0","webpack:///./src/views/CarsPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","_l","car","key","id","_s","vin","color","brand","car_type","user","year","volume","on","$event","removeCar","getAPI","axios","create","baseURL","APIUrl","interceptors","response","use","undefined","err","config","status","store","dispatch","then","access","request","method","headers","Authorization","url","cars","state","CARS_DATA","data","catch","Promise","reject","name","computed","methods","created","component","VContainer","VRow","components","Cars"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,IAClHE,EAAkB,GCDlB,EAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,SAASJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAcJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,gBAAgBJ,EAAG,QAAQJ,EAAIS,GAAIT,EAAa,WAAE,SAASU,GAAK,OAAON,EAAG,KAAK,CAACO,IAAID,EAAIE,IAAI,CAACR,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAII,QAAQV,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIK,UAAUX,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIM,UAAUZ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIO,aAAab,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIQ,SAASd,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIS,SAASf,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIa,GAAGH,EAAIU,WAAWhB,EAAG,KAAK,CAACA,EAAG,SAAS,CAACiB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,UAAUb,MAAQ,CAACV,EAAIQ,GAAG,cAAa,QAAQ,IAAI,IACt4B,EAAkB,G,yJCIhBgB,EAASC,IAAMC,OAAO,CAC1BC,QAASC,SAEXJ,EAAOK,aAAaC,SAASC,SAAIC,GAAW,SAASC,GAE/CA,EAAIC,QAAUD,EAAIH,UAAoC,MAAxBG,EAAIH,SAASK,QAC7CC,OACGC,SAAS,gBACTC,MAAK,SAAAC,GAEJd,IACGe,QAAQ,CACPb,QAASC,OACTa,OAAQ,MACRC,QAAS,CAAEC,cAAe,UAAF,OAAYJ,IACpCK,IAAK,sBAENN,MAAK,SAAAR,GAIJe,OAAKC,MAAMC,UAAYjB,EAASkB,QAEjCC,OAAM,SAAAhB,GAIL,OAAOiB,QAAQC,OAAOlB,SAG3BgB,OAAM,SAAAhB,GAEL,OAAOiB,QAAQC,OAAOlB,S,4lBCE9B,OACEmB,KAAM,OACNC,SAAU,EAAZ,GACA,sCAEEC,QAAS,EAAX,GACA,iDAEEC,QARF,WAQA,WACI/B,EACJ,wBACM,QAAN,CAAQ,cAAR,mDAGA,kBAGM,EAAN,gCAEA,mBAKM,QAAN,0BC/DyY,I,yDCOrYgC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,EAAiB,QAMhC,IAAkBA,EAAW,CAACC,aAAA,KAAWC,OAAA,OCfzC,OACEN,KAAM,WACNO,WAAY,CACVC,KAAJ,ICZ6Y,ICOzY,EAAY,eACd,EACA7D,EACAO,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-2d0a3584.b61d9f20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Cars')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"vin\")]),_c('th',[_vm._v(\"color\")]),_c('th',[_vm._v(\"brand\")]),_c('th',[_vm._v(\"car_type\")]),_c('th',[_vm._v(\"user\")]),_c('th',[_vm._v(\"year\")]),_c('th',[_vm._v(\"volume\")]),_c('th',[_vm._v(\"Remove\")])])]),_c('tbody',_vm._l((_vm.CARS_DATA),function(car){return _c('tr',{key:car.id},[_c('td',[_vm._v(_vm._s(car.vin))]),_c('td',[_vm._v(_vm._s(car.color))]),_c('td',[_vm._v(_vm._s(car.brand))]),_c('td',[_vm._v(_vm._s(car.car_type))]),_c('td',[_vm._v(_vm._s(car.user))]),_c('td',[_vm._v(_vm._s(car.year))]),_c('td',[_vm._v(_vm._s(car.volume))]),_c('td',[_c('button',{on:{\"click\":function($event){return _vm.removeCar(car)}}},[_vm._v(\"-\")])])])}),0)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\nimport store from \"../../store\";\nimport { APIUrl } from \"../axios-base\";\nimport cars from \"../../store/modules/cars/cars\";\n\nconst getAPI = axios.create({\n  baseURL: APIUrl\n});\ngetAPI.interceptors.response.use(undefined, function(err) {\n  // if error response status is 401, it means the request was invalid due to expired access token\n  if (err.config && err.response && err.response.status === 401) {\n    store\n      .dispatch(\"refreshToken\") // attempt to obtain new access token by running 'refreshToken' action\n      .then(access => {\n        // if successful re-send the request to get the data from server\n        axios\n          .request({\n            baseURL: APIUrl,\n            method: \"get\",\n            headers: { Authorization: `Bearer ${access}` }, // the new access token is attached to the authorization header\n            url: \"/api/v1/cars/all/\"\n          })\n          .then(response => {\n            // if successfully received the data store it in store.state.APIData so that 'Downloads' component can grab the\n            // data from it and display to the client.\n            // console.log(\"[axios-cars] Success getting the cars\");\n            cars.state.CARS_DATA = response.data;\n          })\n          .catch(err => {\n            // console.log(\n            //   \"[axios-cars] Got the new access token but error while trying to fetch data from the API using it\"\n            // );\n            return Promise.reject(err);\n          });\n      })\n      .catch(err => {\n        // console.log(\"[axios-cars] catch err\");\n        return Promise.reject(err);\n      });\n  }\n});\n\nexport { getAPI };\n","<template>\n  <div>\n    <v-container fluid>\n      <v-row align=\"center\" justify=\"center\">\n        <table>\n          <thead>\n            <tr>\n              <th>vin</th>\n              <th>color</th>\n              <th>brand</th>\n              <th>car_type</th>\n              <th>user</th>\n              <th>year</th>\n              <th>volume</th>\n              <th>Remove</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"car in CARS_DATA\" v-bind:key=\"car.id\">\n              <td>{{ car.vin }}</td>\n              <td>{{ car.color }}</td>\n              <td>{{ car.brand }}</td>\n              <td>{{ car.car_type }}</td>\n              <td>{{ car.user }}</td>\n              <td>{{ car.year }}</td>\n              <td>{{ car.volume }}</td>\n              <td><button @click=\"removeCar(car)\">-</button></td>\n            </tr>\n          </tbody>\n        </table>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { getAPI } from \"../api/cars/axios-cars\";\nimport { mapState, mapMutations } from \"vuex\";\n\nexport default {\n  name: \"Cars\",\n  computed: {\n    ...mapState(\"cars\", [\"CARS_DATA\"]) // get APIData from store.state.\n  },\n  methods: {\n    ...mapMutations(\"cars\", [\"SET_UPDATE_CARS_DATA\"])\n  },\n  created() {\n    getAPI\n      .get(\"api/v1/cars/all/\", {\n        headers: { Authorization: `Bearer ${this.$store.state.accessToken}` }\n      }) // proof that your access token is still valid; if not the\n      // axios getAPI response interceptor will attempt to get a new  access token from the server. check out ../api/axios-base.js getAPI instance response interceptor\n      .then(response => {\n        // console.log(\"GetAPI successfully got the mods\");\n        // console.log(response);\n        this.SET_UPDATE_CARS_DATA(response.data); // store the response data in store\n      })\n      .catch(err => {\n        // refresh token expired or some other error status\n        // eslint-disable-next-line no-unused-vars\n        const er = err; // просто чтоб ошибку в консоли не показывало\n        // console.log(err);\n        console.log(\"Не получилось\");\n      });\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cars.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cars.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cars.vue?vue&type=template&id=221b868e&scoped=true&\"\nimport script from \"./Cars.vue?vue&type=script&lang=js&\"\nexport * from \"./Cars.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"221b868e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VRow})\n","<template>\n  <div>\n    <Cars></Cars>\n  </div>\n</template>\n\n<script>\nimport Cars from \"../components/Cars\";\n\nexport default {\n  name: \"CarsPage\",\n  components: {\n    Cars\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CarsPage.vue?vue&type=template&id=301ccb66&\"\nimport script from \"./CarsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CarsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}